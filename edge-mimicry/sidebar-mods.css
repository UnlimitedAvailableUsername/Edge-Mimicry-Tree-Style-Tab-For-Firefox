/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_sidebar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

#browser {
  --collapsed-width: 48px;
  --faviconized-count: 6;
  --tab-margin-left: 0.65em;
  --width-hover: calc(calc(calc(var(--collapsed-width) - var(--tab-margin-left)) * var(--faviconized-count)) + var(--tab-margin-left));
  z-index: 0;
}
body::before {
  content: "";
  height: 100%;
  width: 100%;
  position: absolute;
  background-image: var(--lwt-header-image, var(--lwt-additional-images));
  background-repeat: var(--lwt-background-tiling);
  background-position: var(--lwt-background-alignment);
  background-color: var(--lwt-accent-color);
  z-index: 0;
}
.toolbar-items,
#toolbar-menubar {
  z-index: 3;
}
body * {
  z-index: 3;
}
#nav-bar {
  z-index: 4;
}

#sidebar-box {
  min-width: var(--collapsed-width) !important;
  max-width: var(--collapsed-width) !important;
  background: transparent !important;
  border: none !important;
  z-index: 1; /** important to allow overflow of content**/
}

#sidebar-box > * {
  will-change: min-width;
  transition: min-width 0s linear;
  min-width: var(--collapsed-width) !important;
  border-right: 1px solid var(--chrome-content-separator-color) !important;
  overflow: hidden;
}
#sidebar-box:hover > * {
  will-change: min-width;
  transition: min-width 0s linear;
  min-width: var(--width-hover) !important;
}
#sidebar-box[positionend]{ 
  direction: rtl;
}
#sidebar-box[positionend] > *{ 
  direction: ltr;
}

#sidebar-splitter{ 
  display: none !important;
}
#sidebar-box[hidden="true"] {
  display: none !important;
}
#sidebar-header {
	background-color: var(--toolbar-bgcolor);
	background-clip: padding-box;
	color: var(--toolbar-color);
  font-size: unset !important; /* Needed for the header to follow sidebar-width*/
}

#sidebar-box:hover ~ #appcontent {
  --width-hover-minus: calc(var(--width-hover) - calc(var(--collapsed-width)));
  clip-path: polygon(var(--width-hover-minus) 0%, 100% 0%, 100% 100%, var(--width-hover-minus) 100%);
}

#sidebar-box[positionend="true"]:hover ~ #appcontent {
  clip-path: polygon(calc(100% - var(--width-hover-minus)) 0%, 0% 0%, 0% 100%, calc(100% - var(--width-hover-minus)) 100%);
}